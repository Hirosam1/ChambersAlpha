[gd_scene load_steps=22 format=3 uid="uid://2kydypb6a34p"]

[sub_resource type="Shader" id="Shader_qh1km"]
code = "shader_type spatial;
render_mode unshaded, cull_disabled;

uniform sampler2D tile_tex : source_color, filter_nearest, repeat_disable;
uniform int tex_pos;
//UV x(0->1) y(0->y)
// trUV x(1/tex_dims.x*tex_pos -> 1/tex_dims.x*(tex_pos+1)
// 		y(1/tex_dims.y*tex_pos -> 1/tex_dims.y*(tex_pos+1)
uniform ivec2 tex_dims;
vec2 get_tr_uv(vec2 uv){
	float h_step = 1.0/float(tex_dims.x), v_step = 1.0/float(tex_dims.y);
	float h_bias = float(tex_pos % int(tex_dims.x))/float(tex_dims.x);
	float v_bias = float(tex_pos/int(tex_dims.x))/float(tex_dims.y);
	return vec2(uv.x * h_step + h_bias, uv.y * v_step + v_bias);
}

void fragment() {
	vec2 tr_uv = get_tr_uv(UV);
	vec4 tex_color = texture(tile_tex,tr_uv);
	if(tex_color.a < 0.1){
		discard;
	}
	ALBEDO.rgb = tex_color.rgb;
}
"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_g6a1y"]
load_path = "res://.godot/imported/debug_tileset.png-afd7a56ac3fa0c536d4aa0296a7cfcfd.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_4ph75"]
render_priority = 0
shader = SubResource("Shader_qh1km")
shader_parameter/tile_tex = SubResource("CompressedTexture2D_g6a1y")
shader_parameter/tex_pos = 0
shader_parameter/tex_dims = Vector2i(3, 2)

[sub_resource type="QuadMesh" id="QuadMesh_lmqs5"]
material = SubResource("ShaderMaterial_4ph75")

[sub_resource type="BoxShape3D" id="BoxShape3D_yuvsc"]
size = Vector3(1, 1, 0.1)

[sub_resource type="Shader" id="Shader_g6a1y"]
code = "shader_type spatial;
render_mode unshaded, cull_disabled;

uniform sampler2D tile_tex : source_color, filter_nearest, repeat_disable;
uniform int tex_pos;
//UV x(0->1) y(0->y)
// trUV x(1/tex_dims.x*tex_pos -> 1/tex_dims.x*(tex_pos+1)
// 		y(1/tex_dims.y*tex_pos -> 1/tex_dims.y*(tex_pos+1)
uniform ivec2 tex_dims;
vec2 get_tr_uv(vec2 uv){
	float h_step = 1.0/float(tex_dims.x), v_step = 1.0/float(tex_dims.y);
	float h_bias = float(tex_pos % int(tex_dims.x))/float(tex_dims.x);
	float v_bias = float(tex_pos/int(tex_dims.x))/float(tex_dims.y);
	return vec2(uv.x * h_step + h_bias, uv.y * v_step + v_bias);
}

void fragment() {
	vec2 tr_uv = get_tr_uv(UV);
	vec4 tex_color = texture(tile_tex,tr_uv);
	if(tex_color.a < 0.1){
		discard;
	}
	ALBEDO.rgb = tex_color.rgb;
}
"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_4ph75"]
load_path = "res://.godot/imported/debug_tileset.png-afd7a56ac3fa0c536d4aa0296a7cfcfd.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lmqs5"]
render_priority = 0
shader = SubResource("Shader_g6a1y")
shader_parameter/tile_tex = SubResource("CompressedTexture2D_4ph75")
shader_parameter/tex_pos = 1
shader_parameter/tex_dims = Vector2i(3, 2)

[sub_resource type="QuadMesh" id="QuadMesh_oevdq"]
material = SubResource("ShaderMaterial_lmqs5")

[sub_resource type="Shader" id="Shader_4ph75"]
code = "shader_type spatial;
render_mode unshaded, cull_disabled;

uniform sampler2D tile_tex : source_color, filter_nearest, repeat_disable;
uniform int tex_pos;
//UV x(0->1) y(0->y)
// trUV x(1/tex_dims.x*tex_pos -> 1/tex_dims.x*(tex_pos+1)
// 		y(1/tex_dims.y*tex_pos -> 1/tex_dims.y*(tex_pos+1)
uniform ivec2 tex_dims;
vec2 get_tr_uv(vec2 uv){
	float h_step = 1.0/float(tex_dims.x), v_step = 1.0/float(tex_dims.y);
	float h_bias = float(tex_pos % int(tex_dims.x))/float(tex_dims.x);
	float v_bias = float(tex_pos/int(tex_dims.x))/float(tex_dims.y);
	return vec2(uv.x * h_step + h_bias, uv.y * v_step + v_bias);
}

void fragment() {
	vec2 tr_uv = get_tr_uv(UV);
	vec4 tex_color = texture(tile_tex,tr_uv);
	if(tex_color.a < 0.1){
		discard;
	}
	ALBEDO.rgb = tex_color.rgb;
}
"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_lmqs5"]
load_path = "res://.godot/imported/debug_tileset.png-afd7a56ac3fa0c536d4aa0296a7cfcfd.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_oevdq"]
render_priority = 0
shader = SubResource("Shader_4ph75")
shader_parameter/tile_tex = SubResource("CompressedTexture2D_lmqs5")
shader_parameter/tex_pos = 2
shader_parameter/tex_dims = Vector2i(3, 2)

[sub_resource type="QuadMesh" id="QuadMesh_t7x83"]
material = SubResource("ShaderMaterial_oevdq")

[sub_resource type="Shader" id="Shader_lmqs5"]
code = "shader_type spatial;
render_mode unshaded, cull_disabled;

uniform sampler2D tile_tex : source_color, filter_nearest, repeat_disable;
uniform int tex_pos;
//UV x(0->1) y(0->y)
// trUV x(1/tex_dims.x*tex_pos -> 1/tex_dims.x*(tex_pos+1)
// 		y(1/tex_dims.y*tex_pos -> 1/tex_dims.y*(tex_pos+1)
uniform ivec2 tex_dims;
vec2 get_tr_uv(vec2 uv){
	float h_step = 1.0/float(tex_dims.x), v_step = 1.0/float(tex_dims.y);
	float h_bias = float(tex_pos % int(tex_dims.x))/float(tex_dims.x);
	float v_bias = float(tex_pos/int(tex_dims.x))/float(tex_dims.y);
	return vec2(uv.x * h_step + h_bias, uv.y * v_step + v_bias);
}

void fragment() {
	vec2 tr_uv = get_tr_uv(UV);
	vec4 tex_color = texture(tile_tex,tr_uv);
	if(tex_color.a < 0.1){
		discard;
	}
	ALBEDO.rgb = tex_color.rgb;
}
"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_oevdq"]
load_path = "res://.godot/imported/debug_tileset.png-afd7a56ac3fa0c536d4aa0296a7cfcfd.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_t7x83"]
render_priority = 0
shader = SubResource("Shader_lmqs5")
shader_parameter/tile_tex = SubResource("CompressedTexture2D_oevdq")
shader_parameter/tex_pos = 3
shader_parameter/tex_dims = Vector2i(3, 2)

[sub_resource type="QuadMesh" id="QuadMesh_shdu4"]
material = SubResource("ShaderMaterial_t7x83")

[sub_resource type="Shader" id="Shader_oevdq"]
code = "shader_type spatial;
render_mode unshaded, cull_disabled;

uniform sampler2D tile_tex : source_color, filter_nearest, repeat_disable;
uniform int tex_pos;
//UV x(0->1) y(0->y)
// trUV x(1/tex_dims.x*tex_pos -> 1/tex_dims.x*(tex_pos+1)
// 		y(1/tex_dims.y*tex_pos -> 1/tex_dims.y*(tex_pos+1)
uniform ivec2 tex_dims;
vec2 get_tr_uv(vec2 uv){
	float h_step = 1.0/float(tex_dims.x), v_step = 1.0/float(tex_dims.y);
	float h_bias = float(tex_pos % int(tex_dims.x))/float(tex_dims.x);
	float v_bias = float(tex_pos/int(tex_dims.x))/float(tex_dims.y);
	return vec2(uv.x * h_step + h_bias, uv.y * v_step + v_bias);
}

void fragment() {
	vec2 tr_uv = get_tr_uv(UV);
	vec4 tex_color = texture(tile_tex,tr_uv);
	if(tex_color.a < 0.1){
		discard;
	}
	ALBEDO.rgb = tex_color.rgb;
}
"

[sub_resource type="CompressedTexture2D" id="CompressedTexture2D_t7x83"]
load_path = "res://.godot/imported/debug_tileset.png-afd7a56ac3fa0c536d4aa0296a7cfcfd.ctex"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_shdu4"]
render_priority = 0
shader = SubResource("Shader_oevdq")
shader_parameter/tile_tex = SubResource("CompressedTexture2D_t7x83")
shader_parameter/tex_pos = 4
shader_parameter/tex_dims = Vector2i(3, 2)

[sub_resource type="QuadMesh" id="QuadMesh_t0b6e"]
material = SubResource("ShaderMaterial_shdu4")

[node name="FrozTileSet" type="Node3D"]

[node name="Wall1" type="MeshInstance3D" parent="."]
transform = Transform3D(1, -0.000472963, 0.000267033, 0.000472979, 1, -5.94096e-05, -0.000267005, 5.95359e-05, 1, -0.000133517, 2.97048e-05, -0.5)
mesh = SubResource("QuadMesh_lmqs5")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall1"]
transform = Transform3D(1, -5.26157e-12, 0, 1.54898e-11, 1, 9.45874e-11, 2.91038e-11, 3.63798e-12, 1, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall1/StaticBody3D"]
transform = Transform3D(0.999986, -0.00403578, 0.00344037, 0.0040158, 0.999975, 0.00580007, -0.00346367, -0.00578619, 0.999977, 0, 0, 0)
shape = SubResource("BoxShape3D_yuvsc")

[node name="Wall2" type="MeshInstance3D" parent="."]
transform = Transform3D(1, -0.000472966, 0.000267026, 0.000472979, 1, -5.94393e-05, -0.000267005, 5.95359e-05, 1, -0.000133513, 2.97196e-05, -0.5)
mesh = SubResource("QuadMesh_oevdq")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall2"]
transform = Transform3D(1, -5.26157e-12, 0, 1.54898e-11, 1, 9.45874e-11, 2.91038e-11, 3.63798e-12, 1, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall2/StaticBody3D"]
transform = Transform3D(0.999986, -0.00403578, 0.00344037, 0.0040158, 0.999975, 0.00580007, -0.00346367, -0.00578619, 0.999977, 0, 0, 0)
shape = SubResource("BoxShape3D_yuvsc")

[node name="Wall3" type="MeshInstance3D" parent="."]
transform = Transform3D(1, -0.000472963, 0.000267033, 0.000472979, 1, -5.94096e-05, -0.000267005, 5.95359e-05, 1, -0.000133517, 2.97048e-05, -0.5)
mesh = SubResource("QuadMesh_t7x83")

[node name="StaticBody3D" type="StaticBody3D" parent="Wall3"]
transform = Transform3D(1, -5.26157e-12, 0, 1.54898e-11, 1, 9.45874e-11, 2.91038e-11, 3.63798e-12, 1, 0, 0, 0)

[node name="CollisionShape3D" type="CollisionShape3D" parent="Wall3/StaticBody3D"]
transform = Transform3D(0.999986, -0.00403578, 0.00344037, 0.0040158, 0.999975, 0.00580007, -0.00346367, -0.00578619, 0.999977, 0, 0, 0)
shape = SubResource("BoxShape3D_yuvsc")

[node name="Floor1" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -0.5, -2.18557e-08)
mesh = SubResource("QuadMesh_shdu4")

[node name="Floor2" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, -0.5, -2.18557e-08)
mesh = SubResource("QuadMesh_t0b6e")
